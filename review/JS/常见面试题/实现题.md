### å®žçŽ°ä¸€ä¸ªfooå‡½æ•°ï¼Œè¿”å›žè‡ªèº«è°ƒç”¨æ¬¡æ•°ï¼šï¼ˆå®žè´¨ï¼šè€ƒé—­åŒ…ï¼‰

```js
a = foo()
b = foo()
c = foo()
// æ­¤æ—¶ a===1, b===2, c===3
foo.reset()
d = foo()
// d===1

var helper = function() {
  let count = 0
  var fn = function() {
    count++
    return count
  }
  fn.reset = function() {
    count = 0
  }
  return fn
}
let foo = helper()
```

### å®žçŽ°ä¸€ä¸ªå‡½æ•°abc(),ä½¿å…¶æœ‰å¦‚ä¸‹æ•ˆæžœï¼ˆå®žè´¨ï¼šè€ƒé—­åŒ…ï¼‰

```js
abc()//0
abc()//1
abc()//0
abc()//1

function helper() {
  let count = 1
  let fn = function() {
    count *= -1
    return count === -1 ? 0 : 1
  }
  return fn
}
let abc = helper()
```

### JSå®žçŽ°ä¸€ä¸ªrepeatæ–¹æ³•ï¼Œä½¿å…¶æœ‰å¦‚ä¸‹æ•ˆæžœ

```js
const repeatFunc = repeat(console.log,4,3000)
repeatFunc("hello",123)
```

#### æ»‘ç¨½ç‰ˆðŸ˜³

```js
function repeat(fn,times,delay){
    return (...args)=>{
        for(let i=0;i<times;i++){
            setTimeout(()=>{
                fn.apply(null,...args)
            },delay*i)
        }
    }
}
```

#### async await ç‰ˆ

```js
async function sleep(delay){
    return new Promise(resolve=>{
        setTimeout(resolve,delay)
    })
}
function repeat(fn,times,delay){
    return async function(...args){
        for(let i=0;i<times;i++){
        	fn.apply(...args)
            await sleep(delay)
    	}
    }
}
```

