### 圣杯布局
圣杯布局是指布局从上到下分为header、container、footer，然后container部分定为三栏布局。

- 父级设置`overflow:hidden;`,使其成为一个BFC，使三栏浮动，并相对定位
- 侧栏宽设200px,中间的容器设置100%的宽度( left 和 right被挤到下面)

- left设置`margin-left:-100%`,right设置`margin-left:-200px;`,使侧栏移上去
- 为父级设置`padding:0 200px;`为侧栏留出距离
- left设置`left:-200px;`,right`right:-200px;`分别偏移自身的宽度去覆盖掉 contaniner 使用padding后的空白位置
```html
<div class="header">this is header</div>
    <div class="container">
        <!-- 优先渲染 -->
        <div class="center">
            center
        </div>
        <div class="left">
            left
        </div>
        <div class="right">
            right
        </div>
    </div>
<div class="footer">this is footer</div>
```
```css
.header,
.footer {
    background-color: gray;
    text-align: center;
}

.footer {
    clear: both;
    /*清除浮动*/
}

.container {
    padding: 0 200px;
    /*为侧栏让出位置*/
}

.container>div {
    position: relative;
    float: left;
    height: 100px;
}

.center {
    width: 100%;/*要点*/
    background-color: red;
}

.left {
    width: 200px;
    margin-left: -100%;
    /*移上去，在center内部靠左*/
    left: -200px;
    /*利用负的自身长度移动到center两边*/
    background-color: cadetblue;
}

.right {
    width: 200px;
    margin-left: -200px;
    /*移上去,在center内部靠右*/
    right: -200px;
    /*利用负的自身长度移动到center两边*/
    background-color: cadetblue;
}
```
缺点

拖到很小的时候，布局会乱

因此要给body设置最小宽度`200+200+200=600px`,侧栏两个200，之前left使用了position: relative，所以就意味着在center开始的区域，还存在着一个left的宽度200px;
```css
.body{
    min-width: 600px;
}
```
### 双飞翼布局
```html
<div class="header">this is header</div>
<div class="container">
    <div class="center">
        center
    </div>
</div>
<div class="left">
    left
</div>
<div class="right">
    right
</div>

<div class="footer">this is footer</div>
```
```css
.body {
    width: 500px;
}

.header,
.footer {
    background-color: gray;
    text-align: center;
}

.footer {
    clear: both;
    /*清除浮动*/
}

.container {
    width: 100%;
}

.container,
.left,
.right {
    float: left;
    height: 200px;
}

.center {
    margin: 0 200px;
    background-color: brown;
}

.left {
    width: 200px;
    margin-left: -100%;
    background-color: cadetblue;
}

.right {
    width: 200px;
    margin-left: -200px;
    background-color: cadetblue;
}
```
> 圣杯布局在DOM结构上显得更加直观和自然,双飞翼布局在布局上不需要使用定位，所以更加简洁。

> 两者在代码实现上都额外引入了一个<div>标签，其目的都是为了既能保证中间栏产生浮动（浮动后还必须显式设置宽度），又能限制自身宽度为两侧栏留出空间。

### calc 优化双飞翼dom结构
```html
<div class="header">this is header</div>
<div class="center">
    center
</div>
<div class="left">
    left
</div>
<div class="right">
    right
</div>
<div class="footer">this is footer</div>
```
```css
.body {
        width: 500px;
    }

.header,
.footer {
    background-color: gray;
    text-align: center;
}

.footer {
    clear: both;
    /*清除浮动*/
}
.left,
.right {
    float: left;
    height: 200px;
}

.center {
    float: left;
    margin: 0 200px;
    background-color: brown;
    width: calc(100% - 400px);/*使用calc让出侧栏距离*/
}

.left {
    width: 200px;
    margin-left: -100%;
    background-color: cadetblue;
}

.right {
    width: 200px;
    margin-left: -200px;
    background-color: cadetblue;
}
```
目前calc()支持到IE9

### box-sizing 优化双飞翼dom结构
与calc优化差别部分，仅在center
```css
.center {
    width: 100%;
    float: left;
    padding: 0 200px;
    background-color: brown;
    box-sizing: border-box;    
}
```
### flex
```html
<div class="header">this is header</div>
<div class="container">
    <div class="center">
        center
    </div>
    <div class="left">
        left
    </div>
    <div class="right">
        right
    </div>
</div>
<div class="footer">this is footer</div>
```
```css
.body {
    width: 500px;
}

.header,
.footer {
    background-color: gray;
    text-align: center;
}

.container {
    display: flex;
}

.center {
    /*flex:1 1 0%*/
    flex: 1;/*flex:auto;*/
    background-color: brown;
}

.left {
    /* flex: none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]
    flex-grow:定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。
    flex-shrink:定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。
    flex-basis:项目占据的主轴空间
    */
    flex: 0 0 200px;
    /*order:项目的排列顺序。数值越小，排列越靠前，默认为0*/
    order: -1;
    background-color: cadetblue;
}

.right {
    flex: 0 0 150px;
    background-color: cadetblue;
}
```
### 绝对定位布局
- container 相对定位，`overflow: hidden;`清除浮动
- left左浮动，right右浮动
- center 绝对定位，left和right并把两边撑开，`top:0;bottom:0;`把高度撑开
```html
<div class="header">this is header</div>
<div class="container">
    <div class="center">
        center
    </div>
    <div class="left">
        left
    </div>
    <div class="right">
        right
    </div>
</div>
<div class="footer">this is footer</div>
```
```css
.body {
    width: 500px;
}

.header,
.footer {
    background-color: gray;
    text-align: center;
}
.container {
    position: relative;
    overflow: hidden;
}

.center {
    position: absolute;
    left: 200px;
    right: 200px;
    top: 0;
    bottom: 0;
    background-color: brown;
}

.left {
    float: left;
    width: 200px;
    background-color: cadetblue;
}

.right {
    float: right;
    width: 200px;
    background-color: cadetblue;
}
```
缺点是依赖于left 和 right 的高度，如果两边栏的高度不够，中间的内容区域的高度也会被压缩。
### table-cell布局
- 给三栏都设置为表格单元 `display: table-cell`
- left 和 right `width: 200px`，center `width: 100%;`
这时 left 和 right 被挤到两边去了，因此要分别设置`min-width: 200px`确保不会被挤压。
```html
<div class="header">this is header</div>
<div class="container">
    <div class="left">
        left
    </div>
    <!-- 这时的center要放在中间 -->
    <div class="center">
        center
    </div>
    <div class="right">
        right
    </div>
</div>
<div class="footer">this is footer</div>
```
```css
/*body,header,footer样式省略*/
.container>div {
    display: table-cell;
}

.center {
    width: 100%;
    background-color: brown;
}

.left {
    width: 200px;
    min-width: 200px;
    background-color: cadetblue;
}

.right {
    width: 200px;
    min-width: 200px;
    background-color: cadetblue;
}
```
特点：

三栏的高度统一，不能使center放在最前面得到最先渲染
### 网格布局
```html
<div class="header">this is header</div>
<div class="container">
    <div class="left">
        left
    </div>
    <!-- 这时的center要放在中间 -->
    <div class="center">
        center
    </div>
    <div class="right">
        right
    </div>
</div>
<div class="footer">this is footer</div>
```
```css
/*body,header,footer样式省略*/
.container {
    display: grid;
    width: 100%;
    grid-template-rows: 100px;
    grid-template-columns: 200px auto 200px;
}

.center {
    background-color: brown;
}

.left {
    background-color: cadetblue;
}

.right {
    background-color: cadetblue;
}
```
特点:
强大，但兼容性不好

### 总结
- 圣杯布局、双飞翼布局、flex布局的高度取决于内容区(center部分)，页面的高度取决于内容区
- 绝对定位的内容区高度取决于两边栏的最高点。
- table-cell布局能让三栏的高度一致，但不能优先渲染 center。
- 网格布局极其强大，但兼容性差