# 性能优化

 - 网络方面
   - 减少DNS
   - 减少HTTP请求个数（又涉及到内敛、缓存等）
   - 减少资源大小（代码分割等）
- 浏览器构建页面过程
  - SSR
  - 各种标签的位置
- 用户体验
  - 骨架图/loading


### 插入几万个 DOM，如何实现页面不卡顿？

肯定不能一次性把几万个 DOM 全部插入，这样肯定会造成卡顿，所以解决问题的重点应该是如何分批次部分渲染 DOM。

-  `requestAnimationFrame` 的方式去**循环插入** DOM
- **虚拟滚动**（virtualized scroller）。

这种技术的原理就是**只渲染可视区域内的内容，非可见区域的那就完全不渲染了，当用户在滚动的时候就实时去替换渲染的内容。**

![滚动](pic/vScroll.png)

从上图中我们可以发现，即使列表很长，但是渲染的 DOM 元素永远只有那么几个，当我们滚动页面的时候就会实时去更新 DOM，这个技术就能顺利解决这发问题。如果你想了解更多的内容可以了解下这个 [react-virtualized](https://github.com/bvaughn/react-virtualized)。